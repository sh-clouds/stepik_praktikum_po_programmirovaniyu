Разложение на простые++

Требуется разложить целое число N на простые множители и вывести результат в порядке возрастания.

Входные данные
Программе дано число N (2 ≤ N ≤ 109).

Выходные данные
Вывести разложение N на простые множители.

Sample Input 1:
2

Sample Output 1:
2

Sample Input 2:
1008

Sample Output 2:
2^4*3^2*7

Напишите программу. Тестируется через stdin → stdout
Верно решили 92 учащихся
Из всех попыток 38% верных


# ruby
def factor(n)
    a = []
    d = 2
    while d * d <= n do
        if n % d == 0
            a << d
            n /= d
        else
            d += 1
        end
    end    
    if n > 1
        a << n
    end    
    return a
end  

n = gets.to_i
a = factor(n)
a_uniq, out = [],[]

a.each do |i| 
    if a_uniq.include?(i) == false
        a_uniq << i
    end 
end 

a_uniq.each do |i|
    step = a.count(i)
    s = i.to_s
    s += "^#{step}" if step > 1        
    out << s
end

print out.join("*")


# python
from sympy.ntheory import factorint
d = factorint(int(input()))
s = []
for k, v in d.items():
    if v == 1:
        s.append(f'{k}')
    else:
        s.append(f'{k}^{v}')
print(*s, sep='*')


# JS
var stdin = process.openStdin();

function step_2(a) {
  for (let i = 2; i <= Math.trunc(a / 2); i++) 
      if (a % i === 0) return i;
  return false;
}

function step_1(a) {
  let result = [];
  let buf = 0;
  while ((buf = step_2(a))) {
    result.push(buf);
    a = a / buf;
  }
  result.push(a);
  return result;
}

stdin.addListener("data", function (d) {
  let a = +d.toString();
  let arr = step_1(a);
  let result = "";
  let i = 0;
  while (i < arr.length) {
    let j = 1;
    while (i + j < arr.length && arr[i] === arr[i + j]) j++;
    result = result + arr[i];
    if (j !== 1) result = result + "^" + j;
    i = i + j;
    if (i !== arr.length) result = result + "*";
  }
  console.log(result);
});



# java
import java.util.Scanner;
import java.util.ArrayList;
class Main {
    public static void main(String[] args) {
Scanner v = new Scanner(System.in);
int n=v.nextInt(),zz=n,dlina=0;boolean ff=true;
ArrayList <Integer>vasList=new ArrayList<>();   
for(int i=n;i>1;i--){
    if(zz%i==0){
        for(int j=i,chet=0;j>1;j--){
            if(i%j==0){chet++;}
            if(chet>1){ff=false;break;}
        }
        if(ff){
            if(vasList.indexOf(i)>=0){vasList.add(i);}
            else{vasList.add(1);vasList.add(i);}
            zz=zz/i;i++;
        }
        ff=true;
    }
}  
for(int i=vasList.size()-1,chet=0,br=0;i>=0;i--){
    if(vasList.get(i)==1||i==0){
        if(chet==1){System.out.print(br==0?vasList.get(i+1):"*"+vasList.get(i+1));br=1;}
        else{System.out.print(br==0?vasList.get(i+1)+"^"+chet:"*"+vasList.get(i+1)+"^"+chet);br=1;}
        chet=0;
    }
    else{chet++;}
}
    }
}


# c++
#include <iostream>
using namespace std;
int main() {
    unsigned long long n;
    cin>>n;
    int k=2;
    int kol=0;
    while (n>1) {
        if (n%k==0) {kol++;n/=k;} else {
            if (kol==1) cout<<k<<"*"; else if (kol>1) cout<<k<<"^"<<kol<<"*"; 
            ++k;
            kol=0;
        }
    }
    if (kol==1) cout<<k<<" "; else if (kol>1) cout<<k<<"^"<<kol<<" "; 
    return 0;
}



