Личные дела

Однажды, неловкая секретарша перепутала личные дела учащихся. Теперь их снова необходимо упорядочить сначала по классам, а внутри класса по фамилиям

Входные данные
В первой строке дано число N (1 ≤ N ≤ 1000) – количество личных дел. Далее для каждого из N учащихся следующие данные (каждое в своей строке): фамилия и имя, класс, дата рождения. Фамилия и имя – строки не более чем из 20 символов, класс – строка состоящая из числа (от 1 до 11) и латинской буквы (от "A" до "Z" ), дата рождения – дата в формате "ДД.ММ.ГГ" . Гарантируется, что внутри одного класса нет однофамильцев.

Выходные данные
В выходной файл требуется вывести N строк, в каждой из которых записаны данные по одному учащемуся. Строки должны быть упорядочены сначала по классам, а затем по фамилиям.

Sample Input:
3
Sidorov
Sidor
9A
20.07.93
Petrov
Petr
9B
23.10.92
Ivanov
Ivan
9A
10.04.93

Sample Output:
9A Ivanov Ivan 10.04.93
9A Sidorov Sidor 20.07.93
9B Petrov Petr 23.10.92

Напишите программу. Тестируется через stdin → stdout
Верно решили 206 учащихся
Из всех попыток 33% верных


# ruby
n = gets.to_i

lmax, l, x, y = 0, 0, 0, 0
a, ap, = [], []

#n=4
1.upto(n) do |i|
    fm, nm, cl, dt  = gets.chomp.to_s, gets.chomp.to_s, gets.chomp.to_s, gets.chomp.to_s 
    num_cl = cl[0..-1].to_i 
    lit_cl = cl[-1] 
    #print "#{num_cl} #{lit_cl} #{fm} #{nm} #{dt}\n"
    a.push([num_cl, lit_cl, fm, nm, dt])      
end

a.sort!

a.each do |j|
    num_cl = j[0]
    lit_cl = j[1] 
    fm = j[2]
    nm = j[3]
    dt = j[4]
    print "#{num_cl}#{lit_cl} #{fm} #{nm} #{dt}\n"       
end


# python
n = int(input())
arr = [(f'{input()} {input()}', input(), input()) for _ in range(n)]
sorted_arr = sorted(arr, key=lambda w: (int(w[1][:-1]), w[1][-1], w[0]))
print(*[f'{kls} {full_name} {dob}' for full_name, kls, dob in sorted_arr], sep='\n')



# JS
var stdin = process.openStdin();

stdin.addListener("data", function(d) {
    let str = d.toString().split('\n');
    let arr = [];
    let classes = {}
    let class_letter_char = {};
    
    for (let i=1; i<str.length; i=i+4) {
        let obj = {
            surname: str[i],
            name: str[i+1],
            class_number: str[i+2].slice(0,-1),
            class_letter: str[i+2].slice(-1),
            class_letter_code: str[i+2].slice(-1).charCodeAt(),
            birthdate: str[i+3]
        }
        arr.push(obj);
        classes[obj.class_number]='';
        class_letter_char[obj.class_letter_code]='';
    }
    
    classes = Object.keys(classes);
    class_letter_char = Object.keys(class_letter_char);
    
    for (let class_number of classes) {
        for ( let class_code of class_letter_char) {
            let buffer = [];
            for (let key of arr)
                if ( key.class_number === class_number && key.class_letter_code === +class_code)
                    buffer.push(key);
      
            buffer.sort( (a,b) => {
                if (a.surname > b.surname) return 1;
                if (a.surname < b.surname) return -1;
                return 0;                       
            });
            
            for (let key of buffer)
                console.log(key.class_number+key.class_letter+' '+key.surname+' '+key.name+' '+key.birthdate);
        }
    }
  });


# C
#include <inttypes.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct profile {
    char surname[40]; // 20 * 2 для кириллицы
    char name[40];
    uint8_t class;
    char letter;
    uint8_t dd;
    uint8_t mm;
    uint8_t yy;
};

void output(struct profile** array, size_t n);
void swap_profiles(struct profile* a, struct profile* b);
uint8_t compare_profiles(struct profile* a, struct profile* b);
void sort_profiles(struct profile** array, size_t n);
size_t input(struct profile** array);

int main() {
    struct profile* pupils = NULL;
    size_t count = input(&pupils);
    if (count > 0) {
        sort_profiles(&pupils, count);
        output(&pupils, count);
        free(pupils);
    }
    return 0;
}

void output(struct profile** array, size_t n) {
    for (size_t i = 0; i < n; i++)
        printf("%"PRIu8"%c %s %s %02"PRIu8".%02"PRIu8".%02"PRIu8"\n",
(*array)[i].class, (*array)[i].letter, (*array)[i].surname, (*array)[i].name,
(*array)[i].dd, (*array)[i].mm, (*array)[i].yy);
}

void swap_profiles(struct profile* a, struct profile* b) {
    struct profile buffer;
    for (size_t i = 0; i < 40; i++) buffer.surname[i] = (*a).surname[i];
    for (size_t i = 0; i < 40; i++) buffer.name[i] = (*a).name[i];
    buffer.class = (*a).class;
    buffer.letter = (*a).letter;
    buffer.dd = (*a).dd;
    buffer.mm = (*a).mm;
    buffer.yy = (*a).yy;

    for (size_t i = 0; i < 40; i++) (*a).surname[i] = (*b).surname[i];
    for (size_t i = 0; i < 40; i++) (*a).name[i] = (*b).name[i];
    (*a).class = (*b).class;
    (*a).letter = (*b).letter;
    (*a).dd = (*b).dd;
    (*a).mm = (*b).mm;
    (*a).yy = (*b).yy;

    for (size_t i = 0; i < 40; i++) (*b).surname[i] = buffer.surname[i];
    for (size_t i = 0; i < 40; i++) (*b).name[i] = buffer.name[i];
    (*b).class = buffer.class;
    (*b).letter = buffer.letter;
    (*b).dd = buffer.dd;
    (*b).mm = buffer.mm;
    (*b).yy = buffer.yy;
}

// result = 1: a > b || -1: a < b (default)
uint8_t compare_profiles(struct profile* a, struct profile* b) {
    uint8_t result = -1;
    if ((*a).class > (*b).class) {
        result = 1;
    } else if ((*a).class == (*b).class) {
        if ((*a).letter > (*b).letter) {
            result = 1;
        } else if ((*a).letter == (*b).letter) {
            if (strcmp((*a).surname, (*b).surname) > 0) {
                result = 1;
            }
        }
    }
    return result;
}

// пузырёк )))
void sort_profiles(struct profile** array, size_t n) {
    for (size_t i = 0; i < n - 1; i++) {
        for (size_t j = 0; j < n - 1 - i; j++) {
            if (compare_profiles(&((*array)[j]), &((*array)[j+1])) == 1) {
                swap_profiles(&((*array)[j]), &((*array)[j+1]));
            }
        }
    }
}

size_t input(struct profile** array) {
    size_t n = 0;
    scanf("%zu", &n);
    (*array) = malloc(n * sizeof(struct profile));
    if ((*array) == NULL) {
        n = 0;
    } else {
        for (size_t i = 0; i < n; i++) {
            scanf("%s", &((*array)[i].surname));
            scanf("%s", &((*array)[i].name));
            scanf("%"SCNu8, &((*array)[i].class));
            scanf("%c", &((*array)[i].letter));
            scanf("%"SCNu8".", &((*array)[i].dd));
            scanf("%"SCNu8".", &((*array)[i].mm));
            scanf("%"SCNu8, &((*array)[i].yy));
        }
    }
    return n;
}

