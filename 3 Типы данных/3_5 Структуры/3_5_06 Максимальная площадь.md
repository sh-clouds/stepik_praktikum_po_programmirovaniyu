Максимальная площадь

Среди исходных точек найдите три, образующие треугольник максимальной площади. Выведите данную площадь.

Входные данные
Программа получает на вход набор точек на плоскости. Сначала задано количество точек n (2 < n < 101), затем идет последовательность из n строк, каждая из которых содержит два числа: координаты точки. Все исходные координаты – целые числа, не превосходящие 103.

Выходные данные
Необходимо вывести найденную площадь в виде действительного числа.

Sample Input:
4
0 0
0 1
1 0
1 1

Sample Output:
0.5
Напишите программу. Тестируется через stdin → stdout
Верно решили 165 учащихся
Из всех попыток 24% верных



# ruby
n = gets.to_i

lmax, l, x, y = 0, 0, 0, 0
ap = []
a, b, c, p, s = 0, 0, 0, 0, 0
1.upto(n) do |i|
    a = gets.split().map{|j| j.to_i }
    ap.push(a) 
end
#print ap

ap.each do |p1|
    ap.each do |p2|    
        ap.each do |p3|
            a = ( (p1[0]-p2[0])*(p1[0]-p2[0]) + (p1[1]-p2[1])*(p1[1]-p2[1]) )**0.5
            b = ( (p1[0]-p3[0])*(p1[0]-p3[0]) + (p1[1]-p3[1])*(p1[1]-p3[1]) )**0.5
            c = ( (p2[0]-p3[0])*(p2[0]-p3[0]) + (p2[1]-p3[1])*(p2[1]-p3[1]) )**0.5

            l = a + b + c
            p = l / 2
            s = (p*(p-a)*(p-b)*(p-c))**0.5
            
            if lmax<s
                lmax = s
            end    
        end    
    end          
end

z1 = lmax.to_s
#z1 = '123.1234512'

z1i = z1.index('.') 
s_before = z1[0...z1i]
s_after_point = z1[z1i..z1i+12]
z1 = s_before + s_after_point

#print z1
print z1.to_f.round(2)


# python
from itertools import combinations
from math import hypot, sqrt

def get_side(v, w):
    return hypot(v[0]-w[0], v[1]-w[1])
    
def get_square(A, B, C):
    c, b, a = get_side(A, B), get_side(A, C), get_side(B, C)
    p = sum([c, b, a]) / 2
    return sqrt(p*(p-a)*(p-b)*(p-c))


n = int(input())

dots = [tuple(map(int, input().split())) for _ in range(n)]

triangles = combinations(dots, 3)

max_square = 0
for triangle in triangles:
    tmp = get_square(*triangle)
    if tmp > max_square:
        max_square = tmp

print(round(max_square, 1))


# JS
var stdin = process.openStdin();

function MyObj(x,y) {
    this.x = +x;
    this.y = +y;
}
stdin.addListener("data", function(d) {
    let str = d.toString().split('\n');
    let arr = [];
    let max_s = 0;
    
    for (let i=1; i<str.length; i++) {
        let [x,y] = str[i].split(' ');
        let obj = new MyObj(x,y);
        arr.push(obj);
    }
    
    for (let i=0; i<arr.length-2; i++)
        for (let j=i+1; j<arr.length-1; j++)
            for (let k=j+1; k<arr.length; k++) {
                let s = 0.5*Math.abs((arr[j].x-arr[i].x)*(arr[k].y-arr[i].y)-(arr[k].x-arr[i].x)*(arr[j].y-arr[i].y));
                if (max_s < s) max_s = s;
            }
           
    console.log(max_s.toFixed(1));
  });

  
# C#
using System;
using System.Linq;
using System.Collections.Generic;
using System.Globalization;

public class MainClass
{
    public static void Main()
    {
      int check=int.Parse(Console.ReadLine());
      Point[]points=new Point [check];
        double max = 0;
      for (int i=0;i<check;i++)
           {
                var coordinates=Console.ReadLine().Split(' ').Select(x=>int.Parse(x)).ToArray();
                points[i]=new Point(coordinates[0], coordinates[1]);
           }
        for (int i=0; i<check - 2; i++)
        {
            for (int h = i+1; h<check-1; h++)
            {
                for (int j = 1+h; j<check; j++)
                {
                         double s = Math.Abs(((points[h].x-points[i].x)*(points[j].y-points[i].y))-((points[j].x-points[i].x)*(points[h].y-points[i].y)))/2.0;
                        if (s > max) 
                            max = s;
                }
            }
        }
        Console.WriteLine((max==(int)max)?$"{max}.0":max);
    }
     struct Point
    {
        public int x;
        public int y;
        
        public Point(int x, int y)
        {
            this.x=x;
            this.y=y;
        }
     }
}


# java
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);

        int number = Integer.parseInt(input.nextLine());
        List<Point> points = new ArrayList<>();

        for (int a = 0; a < number; a++) {
            points.add(new Point(input.nextInt(), input.nextInt()));
        }

        System.out.printf("%.1f", Point.getTheMaxArea(points));
    }
}

class Point {
    private int x;
    private int y;

    public Point(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public static double getTheMaxArea(List<Point> list) {
        double maxArea = 0.0;

        for (int a = 0; a < list.size() - 2; a++) {
            for (int b = a + 1; b < list.size() - 1; b++) {
                for (int c = b + 1; c < list.size(); c++) {
                    double ab = calculate(list.get(a).x, list.get(a).y, list.get(b).x, list.get(b).y);
                    double ac = calculate(list.get(a).x, list.get(a).y, list.get(c).x, list.get(c).y);
                    double bc = calculate(list.get(b).x, list.get(b).y, list.get(c).x, list.get(c).y);
                    double sP = (ab + ac + bc) / 2.0;
                    double triangleArea = Math.sqrt(sP * (sP - ab) * (sP - ac) * (sP - bc));
                    if(triangleArea > maxArea) maxArea = triangleArea;
                }
            }
        }

        return maxArea;
    }

    private static double calculate(int x1, int y1, int x2, int y2) {
        double f = Math.abs(x1 - x2);
        double s = Math.abs(y1 - y2);
        return Math.sqrt(Math.pow(f , 2) + Math.pow(s , 2));
    }
}


# C++
#include<iostream>
#include<math.h>
#include<vector>
#include<iomanip>
#include<sstream>
using namespace std;

struct Point
{
	double x;
	double y;
};

bool cmp(Point lh,Point rh) 
{
	return lh.x*lh.x+lh.y*lh.y<rh.x*rh.x+rh.y*rh.y;
}

double dist(Point first,Point second) 
{
	return hypot((second.x-first.x),(second.y-first.y));
}

class Triangle 
{
public:
    double a,b,c;
    double perimeter;
    double area;

    Triangle(Point _a,Point _b,Point _c)
    {
	    a=dist(_a,_b);
	    b=dist(_b,_c);
	    c=dist(_c,_a);
	    if(a>c)  swap(a,c);
	    if(b>c)  swap(b,c);
	    if(a>b)  swap(a,b);

        if( a+b >c)
        {
            perimeter=a+b+c;
            area=0.5*abs( (_b.x-_a.x)*(_c.y-_a.y) - (_c.x-_a.x) * (_b.y-_a.y) );
        }
        else
        {
            perimeter=0;
            area=0;
        }
    }
};

string dtos(double value,int precision) 
{
	std::ostringstream strs;
	strs<<setprecision (precision+5)<<value;
	std::string str= strs.str();
	if(str.find('.')==std::string::npos)
	    return str+".0";
	else
	    return str.substr(0,str.find('.')+precision);
}

int main()
{

	int n;
	double maxp=0;

	cin>>n;
	vector<Point> p(n);
	for ( int i=0;i<n;i++){
	    cin>>p[i].x;
	    cin>>p[i].y;
	}

	for(int i=0;i<n;i++)
	{
	    for(int j=i+1;j<n;j++)
	    {
	        for(int k=j+1;k<n;k++)
	        {
	            //cout<<" i = "<<i<<" j = "<<j<<" k = "<<k;
	            Triangle tr(p[i],p[j],p[k]);
	            if(tr.area>maxp)
	            maxp=tr.area;
	        }
	    }
	}


	cout << dtos(maxp,2);
	return 0;
}






