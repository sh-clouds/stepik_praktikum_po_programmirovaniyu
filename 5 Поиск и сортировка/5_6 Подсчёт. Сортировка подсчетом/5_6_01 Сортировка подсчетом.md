Сортировка подсчетом

Реализуйте алгоритм сортировки подсчетом для произвольных чисел, по модулю не превосходящих 10000.

Входные данные

На вход программе сначала подается значение n ≤ 100000 – количество элементов в массиве. В следующей строке входных данных расположены сами элементы массива – целые числа, по модулю не превосходящие 10000.

Выходные данные
Распечатайте отсортированный по неубыванию массив.

Sample Input:
5
1 3 4 2 5

Sample Output:
1 2 3 4 5

Напишите программу. Тестируется через stdin → stdout
Верно решили 155 учащихся
Из всех попыток 45% верных


# ruby
def sortingByCount(m)
    k = m.max 
    scope = k + 1
    c = [0] * scope
    
    0.upto(m.size-1) do |i|
        c[m[i]] += 1
    end  
  
    m = []    
    0.upto(k) do |j|
        0.upto(c[j]-1) do |i|
            m.push(j)
        end
    end

    return m     
end

n = gets.to_i
a = gets.chomp.split().map{|j| j.to_i}

mn = a.min
if mn < 0
    0.upto(a.size-1) do |i|
        a[i] -= mn
    end    
    
    a = sortingByCount(a)
   
    0.upto(a.size-1) do |i|
        a[i] += mn
    end     
else
    a = sortingByCount(a)
end

print a.join(" ")



# python
def sortingByCount(A):
    scope = max(A) + 1
    C = [0] * scope
    for x in A:
        C[x] += 1
    A = []
    for number in range(scope):
        A += [number] * C[number] 
    return A

input()
lst = list(map(int, input().split()))
mn = min(lst)
if mn < 0:
    lst = sortingByCount([el - mn for el in lst])
    print(*[el + mn for el in lst]) 
else:
    print(*sortingByCount(lst))


# JS
var stdin = process.openStdin();

function sort_fs(arr, x, y) { 
  let buffer = new Array(y - x+1).fill(0);
  let dx = (x === 0) ? 0 : (-1) * x;
 
  for (let number of arr) 
    buffer[+number + dx]++;
   
  let new_arr = [];
  for (let i = 0; i < buffer.length; i++) {  
    if (buffer[i] !== 0) 
      while (buffer[i] !== 0) { 
        new_arr.push(x + i);
        buffer[i]--;
      }
  }
  return new_arr;
}

stdin.addListener("data", function(d) {
    let str = d.toString().split('\n');
    console.log(sort_fs(str[1].split(' '),-10000, 10000).join(' '));
  });

  
# C#
using System;

const short MinValue = -10_000, MaxValue = 10_000;

Console.ReadLine();
short[] numbers = Array.ConvertAll(Console.ReadLine().Split(), short.Parse);

var counting = new int[MaxValue - MinValue + 1];
foreach (var num in numbers)
    counting[num - MinValue]++;

int index = 0;
for (int i = 0; i < counting.Length; i++)
    for (int k = 0; k < counting[i]; k++)
        numbers[index++] = (short)(i + MinValue);

Console.WriteLine(String.Join(" ", numbers));



# java
import java.util.Arrays;
import java.util.Scanner;
import java.util.stream.IntStream;

public class Main {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);
        int number = Integer.parseInt(input.nextLine());
        int[] array = IntStream.generate(input::nextInt).limit(number).toArray();

        array = countingSort(array);
        printTheArray(array);
    }

    private static int[] countingSort(int[] array) {
        int max = array[0], min = array[0], counter = 0;

        for (int a = 1; a < array.length; a++) {
            if(array[a] > max) max = array[a];
            if(array[a] < min) min = array[a];
        }

        int range = max - min + 1;
        int[] temporary = new int[range];

        for (int b = 0; b < array.length; b++) {
            if(array[b] == 0) temporary[Math.abs(min)] += 1;
            else temporary[array[b] - min] += 1;
        }

        for (int e = 0; e < temporary.length; e++) {
            if(temporary[e] > 0) {
                for (int f = 0; f < temporary[e]; f++) {
                    array[counter] = e + min;
                    counter++;
                }
            }
        }

        return array;
    }

    private static void printTheArray(int[] array) {
        for (int a = 0; a < array.length; a++) {
            if (a < array.length - 1) System.out.print(array[a] + " ");
            else System.out.println(array[a]);
        }
    }
}





