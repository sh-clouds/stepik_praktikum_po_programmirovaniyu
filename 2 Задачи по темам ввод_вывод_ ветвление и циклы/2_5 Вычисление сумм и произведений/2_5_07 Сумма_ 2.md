Сумма - 2

По данному числу n вычислите сумму 4*(1-1/3+1/5-1/7+...+(-1)n/(2n+1)).

Входные данные
Вводится одно число n, не превосходящее 100000.

Выходные данные
Необходимо вывести значение выражения, округляя до 5 знаков после запятой.

Sample Input:
1

Sample Output:
2.66667

Напишите программу. Тестируется через stdin → stdout
Верно решили 442 учащихся
Из всех попыток 45% верных



# ruby
n = gets.to_i
b = 1
1.upto(n) do |i|
    b = b + -1.pow(i)/(2*i+1).to_f
end
puts (4*b).round(5)


# python
n = int(input())
sum = 1
for i in range(1, n+1):
    sum+=((-1)**i)/(2*i+1)
print(round(4*sum,5)) 


# JS
// put your javascript (node.js) code here
var stdin = process.openStdin();

stdin.addListener("data", function(d) {
    let n = +d;
    let result = 1;
    
    for (let i=1; i<=n; i++) result += ((-1)**i)/(2*i+1)
    let [a,b] = (result*4).toFixed(5).toString().split('.');

if (b.endsWith('0')) {
  let flag = 0;
  for (let i = b.length-1; i >= 0; i--) {
    if ( b[i] !== '0') break;
    flag++;
  
  }
  b = b.slice(0,b.length-flag);
}
console.log(a+'.'+b);
  });


# C#
using System;

var res = 0.0;
var n = int.Parse(Console.ReadLine());
for (int i = 1, j = 0; i < 2 * n + 2; i+=2, j++)
    res += j % 2 == 0 ? 1.0 / i : -1.0 / i;
Console.Write(Math.Round(res * 4, 5));


# java
import java.text.DecimalFormat;
import java.util.Scanner;
import java.util.stream.IntStream;

class Main {
    public static void main(String[] args) {
        int n = new Scanner(System.in).nextInt();
        double sum = IntStream.rangeClosed(0, n)
                .mapToDouble(i -> (1 - i % 2 * 2) / (2.0 * i +  1))
                .sum();
        sum *= 4;
        System.out.println(new DecimalFormat("#.#####").format(sum));
    }
}


# C
#include <stdio.h>
#include <stdlib.h>

long double sum(unsigned n) {
  if (!n) return 0;
  long double result = 1.0;
  for (long unsigned i = 1; i <= n; ++i) {
    if (i % 2)
      result -= 1.0 / (2 * i + 1);
    else
      result += 1.0 / (2 * i + 1);
  }
  return 4 * result;
}

int main(void) {
  unsigned n;
  scanf("%u", &n);
  printf("%.*Lg\n", 6, sum(n));
  return EXIT_SUCCESS;
}


# C++
#include <iostream>
#include <cmath> //round, pow

double myRound(double val, double ndigits) {
    double coeff = pow (10, ndigits);
    return round(val*coeff)/coeff;
}

int main() {
    int val;
    std::cin >> val;
    double sum = 0;
    for (int i=0; i <= val; i++) {
        sum += pow(-1.0L, i)/(2 * i + 1);
    }
    std::cout << myRound(4*sum, 5);
    return 0;
}



