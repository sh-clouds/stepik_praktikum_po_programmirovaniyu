Наименьшее расстояние между локальными максимумами

Определите наименьшее расстояние между двумя локальными максимумами последовательности натуральных чисел, завершающейся числом 0. Если в последовательности нет двух локальных максимумов, выведите число 0.

Входные данные
Дана последовательность натуральных чисел, оканчивающаяся числом 0 (само число 0 в последовательность не входит)

Выходные данные
Выведите ответ на задачу.

ЗЫ: Расстоянием считается количество пробелов между элементами. Пример на скриншоте ниже:

Sample Input:
1
2
1
1
2
1
2
1
0

Sample Output:
2

Напишите программу. Тестируется через stdin → stdout
Верно решили 350 учащихся
Из всех попыток 32% верных


# ruby
a = (nums = $stdin.read.split("\n").map(&:to_i))[...(nums.find_index(0))]
cnt = 0
bnext = false
cnt_min = a.size
b2 = false

a.each_cons(3) do |v|
    if v[0] < v[1] and v[1] > v[2]        
        if bnext
            if cnt_min > cnt + 1
                cnt_min = cnt + 1
            end
            if b2 == false
                b2 = true
            end
        else
            bnext = true
        end
        cnt = -1        
    end 
    cnt += 1     
end
    
puts b2 == false ? 0 : cnt_min


# python
lst = list(map(int, iter(input, '0')))
local_max_indices = [i for i in range(1, len(lst) - 1)  if lst[i - 1] < lst[i] > lst[i + 1]]
min_dist = float('inf')

for j in range(1, len(local_max_indices)):
    dist = local_max_indices[j] - local_max_indices[j - 1]
    if dist < min_dist:
        min_dist = dist
print(0 if len(local_max_indices) < 2 else min_dist)


# JS
var stdin = process.openStdin();

stdin.addListener("data", function(d) {
    let data = d.toString().split('\n');
    
    let i = 1;
    let arr = [];
    let min_length = 0;

    while ( +data[i+1] !== 0) {
       if ( (+data[i] > +data[i-1]) && (+data[i+1] < +data[i]) )  arr.push(i);
      i++;
    }
    min_length = 0;

    if (arr.length>1) {
          min_length = arr[1] - arr[0];
          for (let i=1; i < arr.length; i++) 
                if ( min_length > arr[i+1] - arr[i]) min_length = arr[i+1] - arr[i]; 
    }
    console.log(min_length);
  });

  
# C#
using System;
using System.Collections.Generic;

public class SmallestDistance
{
    public static void Main()
    {
        List<int> indices;
        
        {
            var sequence = new List<int>(10);
            while (true)
            {
                int num = Convert.ToInt32(Console.ReadLine());
                if (num == 0) break;
                sequence.Add(num);
            }

            indices = new List<int>(sequence.Count / 2);
            for (int i = 1; i < sequence.Count - 1; i++)
                if (sequence[i - 1] < sequence[i] && sequence[i] > sequence[i + 1])
                   indices.Add(i);
            indices.TrimExcess();
        }
        
        if (indices.Count < 2) { Console.WriteLine(0); return; }
        
        var minDistance = Int32.MaxValue;
        for (int i = 1; i < indices.Count; i++)
        {
            var distance = indices[i] - indices[i - 1];
            if (distance < minDistance) minDistance = distance;
        }
        
        Console.WriteLine(minDistance);
    }
}


# java
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);

        List<Integer> list = new ArrayList<>();
        int previous = input.nextInt(), current = input.nextInt(), next, counter = 1, min = 0;

        while((next = input.nextInt()) != 0) {
            if(previous < current && current > next) list.add(1);
            else list.add(0);

            previous = current;
            current = next;
        }

        if(list.indexOf(1) != list.lastIndexOf(1)) {
            min = Integer.MAX_VALUE;
            list = list.subList(list.indexOf(1), list.lastIndexOf(1) + 1 < list.size() ? list.lastIndexOf(1) + 1 : list.size());

            for (int a = 0; a < list.size(); a++) {
                if(list.get(a).equals(0)) {
                    counter++;
                }
                else {
                    if(counter > 1 && counter < min) {
                        min = counter;
                    }
                    counter = 1;
                }
            }
        }

        System.out.println(min);
    }
}


# C++
#include <iostream>
inline int mysign(int n) {return (n > 0) - (n < 0);}; 
int main() {
    int last,cur,s,dir = 0, cur_gap = -1,min_gap = 0;
    for(std::cin >> last; std::cin >> cur && cur && min_gap != 2; last = cur, dir = s, cur_gap = (cur_gap < 0 ? cur_gap : cur_gap + 1))
    {
        s = mysign( cur - last);
        if (dir == 1 && s == -1)
        {
            if (cur_gap > 0)
                if (min_gap > 0)
                    min_gap = (cur_gap < min_gap ? cur_gap : min_gap);
                else
                    min_gap = cur_gap;
            cur_gap = 0;
        }
    }
    std::cout << min_gap;
}




