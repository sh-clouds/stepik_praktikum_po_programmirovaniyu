Заполнение диагоналями

Даны числа n и m. Создайте массив A[n][m] и заполните его, как показано на примере.

Входные данные
Программа получает на вход два числа n и m.

Выходные данные
Программа должна вывести  полученный массив, отводя на вывод каждого числа ровно 3 символа.

Sample Input:
4 10

Sample Output:

  0  1  3  6 10 14 18 22 26 30
  2  4  7 11 15 19 23 27 31 34
  5  8 12 16 20 24 28 32 35 37
  9 13 17 21 25 29 33 36 38 39

Напишите программу. Тестируется через stdin → stdout
Верно решили 132 учащихся
Из всех попыток 33% верных


# ruby (only n<m)
n,m = gets.chomp.split(' ').map { |j| j.to_i }
a,add,start  = [],[],[]

#n,m = 3,6

0.upto(n) do |i|
    a.push([])
end

0.upto(n-1) do |i|
    0.upto(m-1) do |j|
        a[i].push(-1)
    end    
end


# form add array (1 2 3.. n.. 3 2 1)
k=1
1.upto (m-1) do |j|   
    add.push(k)
    k += 1 if k<n        
end

k=n-1
1.upto (n - 1) do |i|   
    add.push(k)
    k -= 1       
end

add.push(-1) 

print add
print "\n"

# form start array (0 2 5 9 ..)
d=0
k=1
0.upto (n - 1) do |j| 
    start.push(d)
    k += 1  
    d += k    
end

print start
print "\n"

0.upto (n - 1) do |i| 
    d = start[i]
    0.upto (m - 1) do |j|       
        a[i][j] = d         
        d += add[j+i]          
    end
end    

a.each do |i|
    i.each do |j|
        print j.to_s.rjust(3)  
    end
    print "\n"      
end



# ruby
# put your ruby code here
n,m = gets.chomp.split(' ').map { |j| j.to_i }
a = []

0.upto(n) do |i|
    a.push([])
end

0.upto(n-1) do |i|
    0.upto(m-1) do |j|
        a[i].push(-1)
    end    
end

c = 1
l = 0

0.upto (m+n-1) do |i| 
    0.upto(n-1) do |j|     
        if ((i-j) > -1) and ((i-j) < m)
            a[j][i-j]+=c
            l+=1
            c+=1
        end    
    l = 0      
    end
end 

a.each do |i|
    i.each do |j|
        print j.to_s.rjust(3)  
    end
    print "\n"      
end




# python
n, m = map(int, input().split())
c = 0
l = 0
a = [[0 for _ in range(m)] for _ in range(n)]
for i in range(m+n-1):
    for j in range(n):
        if ((i-j) > -1) and ((i-j) < m):
            a[j][i-j]+=c
            l+=1
            c+=1
    l = 0
for o in a:
  for o2 in o:
    print(str(o2).rjust(3), end = '')
  print()


# JS
var stdin = process.openStdin();

function hod(result, x, y, count) {
    while ( x<result.length && y>=0 ) {
        if (count.toString().length === 1) count = ' '+count.toString();
        result[x][y] = count;
        count++;
        x++;
        y--;    
    }
    return count;
}

stdin.addListener("data", function(d) {
    let str = d.toString().split(' ');
    let  [n, m] = [+str[0], +str[1]];
    let result = [];
    for (let i=0; i<n; i++) 
        result.push(new Array(m).fill(0));
    let count = 0;
    for (let i=0; i<m; i++)
        count = hod(result, 0, i, count); 
    for (let i=1; i<n; i++) 
        count = hod(result, i, m-1, count);
    for (let i=0; i<n; i++)
        console.log(' '+result[i].join(' '));
  });

  

# C#
using System;

int rows, cols;
int[,] zigzag;

{
    int[] dimension = Array.ConvertAll(Console.ReadLine().Split(), int.Parse);        
    (rows, cols) = (dimension[0], dimension[1]);

    var indices = new (int, int, int)[rows * cols];
    zigzag = new int[rows, cols];

    int index = 0;
    for (int i = 0; i < rows; i++)
        for (int j = 0; j < cols; j++)
            indices[index++] = (i + j, i, j);
    Array.Sort(indices);

    int value = 0;
    foreach (var (_, i, j) in indices)
        zigzag[i, j] = value++;
}

for (int i = 0; i < rows; i++)
{
    for (int j = 0; j < cols; j++)
        Console.Write($"{zigzag[i, j], 3}");
    Console.WriteLine();
}


# java
import java.util.Scanner;
import java.util.stream.IntStream;

public class Main {
    private static int counter = -1;
    
    private static int getNumber() {
        return ++counter;
    }

    public static void main(String args[]) {
        Scanner input = new Scanner(System.in);
        int n = input.nextInt(), m = input.nextInt();

        int[][] matrix = new int[n][m];

        IntStream.range(0, n + m - 1).forEach(w ->
                IntStream.range(0, n).forEach(x ->
                        IntStream.range(0, m).forEach(y -> {
            if(x + y == w) matrix[x][y] = getNumber();
        })));

        IntStream.range(0, n).forEach(x -> IntStream.range(0, m).forEach(y -> {
            if(y < m - 1) System.out.printf("%3d", matrix[x][y]);
            else System.out.printf("%3d%n", matrix[x][y]);
        }));
    }
}



# C
#include <inttypes.h>
#include <stdio.h>
#include <stdlib.h>
#include <limits.h>

void input_n(size_t* N);
void input_n_m(size_t* N, size_t* M);
void input_matrix(int64_t*** arr, size_t N, size_t M);
int8_t init_matrix(int64_t*** arr, size_t N, size_t M);
void free_matrix(int64_t*** arr, size_t N);
void echo_matrix(int64_t*** arr, size_t N, size_t M, size_t type);
int64_t get_sum_of_string(int64_t*** arr, size_t i, size_t M);
int64_t get_max_in_string(int64_t*** arr, size_t i, size_t M);
int64_t get_max_in_matrix(int64_t*** arr, size_t N, size_t M);
void fill_matrix(int64_t*** arr, size_t N, size_t M);

int main() {
    size_t N, M;
    input_n_m(&N, &M);
    int64_t** matrix = NULL;
    if (N && M && init_matrix(&matrix, N, M)) {
        fill_matrix(&matrix, N, M);
        echo_matrix(&matrix, N, M, 2);
        free_matrix(&matrix, N);
    }
    return 0;
}

void fill_matrix(int64_t*** arr, size_t N, size_t M) {
    int64_t item = 0, fill = 1;
    size_t ci = 0, cj = 0;

    do {
        (*arr)[ci][cj] = item++;
        if ((ci + 1 == N) && (cj + 1 == M)) {
            fill = 0;
        } else if ((ci + 1 == N) && (cj + N >= M)) {
            ci = cj + N - M + 1;
            cj = M - 1;
        } else if (ci + 1 == N) {
            ci = 0;
            cj = cj + N;
        } else if ((cj == 0) && (ci + 1 >= M)) {
            ci = ci + 1 - (M - 1);
            cj = M - 1;
        } else if (cj == 0) {
            cj = ci + 1;
            ci = 0;
        } else {
            ci++;
            cj--;
        }
    } while (fill);
}

int64_t get_max_in_matrix(int64_t*** arr, size_t N, size_t M) {
    int64_t max = LLONG_MIN;
    for (size_t i = 0; i < N; i++)
        for (size_t j = 0; j < M; j++)
            if ((*arr)[i][j] > max)
                max = (*arr)[i][j];
    return max;
}

int64_t get_max_in_string(int64_t*** arr, size_t i, size_t M) {
    int64_t max = LLONG_MIN;
    for (size_t j = 0; j < M; j++)
        if ((*arr)[i][j] > max)
            max = (*arr)[i][j];
    return max;
}

int64_t get_sum_of_string(int64_t*** arr, size_t i, size_t M) {
    int64_t sum = 0;
    for (size_t j = 0; j < M; j++) sum += (*arr)[i][j];
    return sum;
}

void echo_matrix(int64_t*** arr, size_t N, size_t M, size_t type) {
    for (size_t i = 0; i < N; i++) {
        for (size_t j = 0; j < M; j++) {
            if (type == 1) {
                printf("%"PRId64, (*arr)[i][j]);
                if (j < M - 1) printf(" ");
            } else if (type == 2) {
                printf("%3"PRId64, (*arr)[i][j]);
            }
            if (j == M - 1) printf("\n");
        }
    }
}

void free_matrix(int64_t*** arr, size_t N) {
    for (size_t i = 0; i < N; i++) free((*arr)[i]);
    free(*arr);
}

int8_t init_matrix(int64_t*** arr, size_t N, size_t M) {
    int8_t result = 0;
    *arr = malloc(N * sizeof(int64_t*));
    if (*arr != NULL) {
        result = 1;
        for (size_t i = 0; i < N; i++) {
            (*arr)[i] = malloc(M * sizeof(int64_t));
            if ((*arr)[i] == NULL) {
                result = 0;
                free_matrix(&(*arr), i);
                break;
            }
        }
    }
    return result;
}

void input_matrix(int64_t*** arr, size_t N, size_t M) {
    for (size_t i = 0; i < N; i++)
        for (size_t j = 0; j < M; j++)
            scanf("%"SCNd64, &((*arr)[i][j]));
}

void input_n_m(size_t* N, size_t* M) {
    int64_t num;
    *N = (scanf("%zu", &num) == 1 && num > 0) ? num : 0;
    *M = (scanf("%zu", &num) == 1 && num > 0) ? num : 0;
}

void input_n(size_t* N) {
    int64_t num;
    *N = (scanf("%zu", &num) == 1 && num > 0) ? num : 0;
}


# C++
#include <iostream>
#include <iomanip>
using namespace std;

int main() {
    int n, m, d=0;
    cin >> n >> m;
    int arr[n][m];
    for (int k = 0; k < n+m-1; k++)
        for (int i = 0; i < n; i++)
            for (int j = 0; j < m; j++)
                if (i+j == k)
                    arr[i][j] = d++;
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++)
            cout << setw(3) << arr[i][j];
        cout << "\n";    
    }
    return 0;
}



