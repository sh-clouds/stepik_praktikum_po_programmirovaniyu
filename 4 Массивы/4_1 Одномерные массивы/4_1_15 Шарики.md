Шарики

В одной компьютерной игре игрок выставляет в линию шарики разных цветов. Когда образуется непрерывная цепочка из трех и более шариков одного цвета, она удаляется из линии. Все шарики при этом сдвигаются друг к другу, и ситуация может повториться.

Напишите программу, которая по данной ситуации определяет, сколько шариков будет "уничтожено". Естественно, непрерывных цепочек из трех и более одноцветных шаров в начальный момент может быть не более одной.

Входные данные
Сначала вводится количество шариков в цепочке (не более 1000) и цвета шариков (от 0 до 9, каждому цвету соответствует свое целое число).

Выходные данные
Требуется вывести количество шариков, которое будет "уничтожено".

Sample Input:
5 1 3 3 3 2

Sample Output:
3

Напишите программу. Тестируется через stdin → stdout
Верно решили 218 учащихся
Из всех попыток 22% верных


# ruby
a = gets.chomp.split().map{|j| j.to_i}

f = true
n = 0  

#a = [1, 2, 3, 4, 5, 6, 7]
#a = [5, 1, 3, 3, 3, 3]
#a = [9, 3, 3, 5, 5, 5, 3, 3, 8, 9] 
#a = [5, 1, 1, 1, 2, 2]
#a = [8, 3, 3, 3, 1, 1, 1, 3, 3]
#a = [8, 3, 3, 3, 3]
#a = [11, 2, 7, 7, 6, 5, 5, 5, 6, 6, 7, 7]
#a = [6, 6, 3, 3, 3, 6, 6]

a = a[1..]
a.push(10)
a = a.reverse

while a.size>2 and f==true
    #puts "p1"
    cnt = 0    
    ind = 0 
    f = false
    
    a.each_cons(3) do |v|
        #print "ind= #{ind}\n"
        #puts "p2"
        if v[0]==v[1] and v[1]==v[2]
            #puts "p3"
            #puts a.join(" ")
            cnt += 1
            if ind == a.size - 3
                #puts "p5"                
                a = a[0..ind - cnt]                
                #puts a.join(" ") 
                n += (cnt + 2)
                f = true                
                break
            end            
        else
            #puts "p4" 
            if cnt > 0
                #puts "p6"                 
                a = a[0..ind - 1 - cnt] + a[ind+2..]                
                #puts a.join(" ") 
                n += (cnt + 2)
                f = true                
                break
   
            else
                #puts "p7"
            end             
        end        
             
        ind += 1
    end
end    

#puts ind    
puts n


# python
n, *balls = list(map(int, input().split()))
all_counter = 0
flag = True
while flag == True:
    for i in range(len(balls)):
        counter = 1
        for j in range(i+1,len(balls)):
            if balls[i] != balls[j]:
                break
            else:
                counter += 1
        if counter >= 3:
            break
    if counter < 3:
        flag = False
    else:
        all_counter += counter
        balls = balls[:i]+balls[i+counter:]
        if not balls:
            flag = False
print(all_counter)


# JS
var stdin = process.openStdin();

stdin.addListener("data", function(d) {
    let str = d.toString();
    str = str.slice(str.indexOf(' ')) + ' ';
    let count = 0;
    let a = str.match(/(\s\d)\1\1+\s/);
    while (a !== null) {  
        count = count + (a[0].length - 1)/2;
        str = str.slice(0, a.index) + str.slice(a.index+a[0].length-1);
        a = str.match(/(\s\d)\1\1+\s/);
    } 
    console.log(count);    
  });
  

# C#
using System;
using System.Collections.Generic;

public class MainClass
{
    public static void Main()
    {
        var input = new List<int>(Array.ConvertAll(Console.ReadLine().Split(),int.Parse));
            int n = input[0];
            input.RemoveAt(0);
            int count=0;            
            for (int i = 0; i < input.Count; )
            {
                int num = input[i];
                int balls = 1;
                int indexStart = i;
                for (; i+1 < input.Count && num == input[i + 1]; i++, balls++) { }
                if (balls >= 3)
                {
                    count += balls;
                    input.RemoveRange(indexStart, balls);
                    i = 0;
                 }  
                else { i++; }
            }
            Console.WriteLine(count);
    }
}


# java
import java.util.Scanner;
class Main {
    public static void main(String[] args) {
Scanner v=new Scanner(System.in);
int n=v.nextInt(),dl=0,vrem=0,chet=1,chet2=0,nach=0;boolean qq=false;
int vv[]=new int[n];
for(int i=0;i<n;i++){
vv[i]=v.nextInt();}
        
for(int i=350;i>0;i--){
dl=n-chet2;    
    for(int j=0;j<dl;j++){
    if(j==0){vrem=vv[j];}
    else{if(vrem==vv[j]){chet++;if(j==dl-1&&chet>=3){chet2+=chet;chet=1;qq=true;break;}}
         else{if(chet>=3){nach=j-chet;
                 for(int k=nach;k<(dl-chet);k++){
                 vv[k]=vv[k+chet];}
                 chet2+=chet;chet=1;qq=true;break;}
              else{vrem=vv[j];chet=1;}}}}
if(qq==false){break;}
qq=false;}
System.out.println(chet2);
    }
}


# C
#include <inttypes.h>
#include <stdio.h>
#include <stdlib.h>

int main() {
    size_t N;
    scanf("%zu", &N);
    int8_t* balls = malloc(N * sizeof(int8_t));
    for (size_t i = 0; i < N; i++) scanf("%"SCNd8, &balls[i]);

    size_t rem = 0;
    int8_t gogo = 1;

    while(gogo) {
        gogo = 0;

        int8_t color = -1;
        size_t count = 1;
        size_t index = N;

        for (size_t i = 0; i < (N - rem); i++) {
            if (balls[i] == color) {
                if (count == 1) index = i - 1;  // индекс начала цепочки
                count++;  // количество одинаковых элементов
                continue;
            }
            if (count >= 3) break;
            color = balls[i];
            count = 1;
            index = N;
        }

        if (count < 3) break; // = continue with gogo = 0)

        for (size_t i = index + count; i < N - rem; i++) balls[i - count] = balls[i];
        rem += count;
        balls = realloc(balls, (N - rem) * sizeof(int8_t));
        gogo = 1;
    }

    printf("%"PRId8, rem);

    free(balls);
    return 0;
}



# C++
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int main() {
int n;
cin >>n;
vector<int> balls(n);
for(int i=0;i<n;i++)
    cin>>balls[i];

while(true){
int first=0,last=0;
for(int i=1;i<(int)balls.size();i++){
    if(balls[i]==balls[first])
        last=i;
    else if(last-first<2)
        first=i;
    else break;
}
    if(last-first>=2)
        balls.erase(balls.begin()+first,balls.begin()+last+1);
    else
        break;
}
    cout<<n-balls.size();
  return 0;
}


# C++
#include <algorithm> 
#include <fstream> 
#include <iostream> 
#include <string> 
#include <vector> 
#include <map> 
using namespace std; 
using box_t = map<char, size_t>; 
struct Compare { 
    using value_type = pair<char, size_t>; 
    bool operator()(value_type& a, value_type& b) { 
        return a.second > b.second; 
    } 
}; 
string create_palindrome(const box_t& box) { 
    using vec_t = vector<pair<char, size_t>>; 
    vec_t even; 
    vec_t odd; 
    for (const auto& [key, value] : box) { 
        if (value & 1) odd.push_back({ key, value }); 
        else even.push_back({ key, value }); 
    } 
    Compare comp; 
    sort(odd.begin(), odd.end(), comp); 
    if (odd.size() > 1) { 
        for (auto it = odd.begin() + 1; it != odd.end(); ++it) { 
            const auto& [key, value] = *it; 
            if (value == 1) break; 
            else even.push_back({ key, value - 1 }); 
        } 
    } 
    sort(even.begin(), even.end()); 
    string line; 
    if (!even.empty()) { 
        for (const auto& [key, value] : even) { 
            line += string(value >> 1, key); 
        } 
    } 
    if (!odd.empty()) { 
        const auto& [key, value] = odd.at(0); 
        line += string(value, key); 
    } 
    if (!even.empty()) { 
        for (auto it = even.rbegin(); it != even.rend(); ++it) { 
            const auto& [key, value] = *it; 
            line += string(value >> 1, key); 
        } 
    } 
    return line; 
} 
int main() { 
    size_t n; 
    cin >> n; 
    string line; 
    line.reserve(n); 
    cin >> line; 
    box_t box; 
    for (auto ch : line) ++box[ch]; 
    const auto palindrome = create_palindrome(box); 
    cout << palindrome << '\n'; 
    //system("pause > nul"); 
    
    return 0;
}












