Двойной переворот

Дана последовательность натуральных чисел 1, 2, 3, ..., N (1 ≤ N ≤ 1000). Необходимо сначала расположить в обратном порядке 
часть этой последовательности от элемента с номером A до элемента с номером B, а затем от C до D (A < B; C < D; 1 ≤ A, B, C, D ≤ N).

Входные данные
Вводятся натуральные числа числа N, A, B, C, D.

Выходные данные
Требуется вывести полученную последовательность. Числа следует выводить через пробел.

Sample Input:
9 2 5 6 9

Sample Output:
1 5 4 3 2 9 8 7 6

Напишите программу. Тестируется через stdin → stdout
Верно решили 328 учащихся
Из всех попыток 36% верны


# ruby
ar = gets.chomp.split().map{|j| j.to_i}
#ar=[11, 3, 5, 4, 7]
#ar=[9, 2, 5, 6, 9]
n, a, b, c, d = ar
m = []

1.upto(n) do |i|
    m.push(i)
end    

m = m[0...a-1] + m[a-1..b-1].reverse + m[b..]
m = m[0...c-1] + m[c-1..d-1].reverse + m[d..]   
puts m.join(" ")


# pythone
n, a, b, c, d = map(int, input().split())
numbers = list(range(1, n + 1))
numbers[a-1:b] = reversed(numbers[a-1:b])
numbers[c-1:d] = reversed(numbers[c-1:d])
print(' '.join(map(str, numbers)))


# JS
var stdin = process.openStdin();
function my(arr,a,b) {
    let result = [];
    a = a-1;
    b = b-1;
    result = arr.slice(0,a);
    for (let i=b; i>=a; i--)
        result.push(arr[i]);
    result = [...result, ...arr.slice(b+1)];    
    return result;
}

stdin.addListener("data", function(t) {
    let [n,a,b,s,d] = t.toString().split(' ');
    let arr =  [];
    let buffer = [];
    let result = '';
    
    for (let i=0; i < +n; i++)
        arr[i]=(i+1);
    
    buffer = my(arr, +a, +b);
    buffer = my(buffer, +s, +d);

    for (let key of buffer)
        result = result + key + ' ';
        
    console.log(result);
  });

  
# C#
using System;

public class MainClass
{
    public static void Main()
    {
            int[] arr = Array.ConvertAll<string, int>(Console.ReadLine().Split(), int.Parse);
            var da = new int[arr[0]];
            for (int i = 0; i < arr[0]; i++)
                da.SetValue(i+1, i);
            Array.Reverse(da, arr[1]-1, arr[2] - arr[1]+1);
            Array.Reverse(da, arr[3]-1, arr[4] - arr[3]+1);
            for (int i = 0; i < da.Length; i++)
                Console.Write(da[i] + " ");
    }
}


# java
import java.util.Scanner;
class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int [] arr = new int [sc.nextInt()];
        for (int i = 0; i < arr.length; arr[i] = ++i);
        
        int a = sc.nextInt()-1;
        int b = sc.nextInt()-1;
        while (a < b) {
            arr[a] += arr[b];
            arr[b] = arr[a] - arr[b];
            arr[a++] -= arr[b--];
        }
        
        int c = sc.nextInt()-1;
        int d = sc.nextInt()-1;
        while (c < d) {
            arr[c] += arr[d];
            arr[d] = arr[c] - arr[d];
            arr[c++] -= arr[d--];
        }
        
        for (int i : arr)
            System.out.print(i + " ");
    }
}


# C
#include <inttypes.h>
#include <stdio.h>

int main() {
    size_t N, A, B, C, D;
    scanf("%zu %zu %zu %zu %zu", &N, &A, &B, &C, &D);

    uint8_t arrin[N], arrout[N];
    for (size_t i = 0; i < N; i++) arrin[i] = i + 1;
    for (size_t i = 0; i < N; i++) arrout[i] = arrin[i];

    for (size_t i = 0; i < (B - A + 1); i++) arrout[A-1+i] = arrin[B-1-i];
    for (size_t i = 0; i < N; i++) arrin[i] = arrout[i];
    for (size_t i = 0; i < (D - C + 1); i++) arrout[C-1+i] = arrin[D-1-i];

    for (size_t i = 0; i < N; i++) printf("%"PRId8" ", arrout[i]);
    return 0;
}


# C++
#include <iostream>
using namespace std;

int main()
{
    int N, a, b, c, d;
    cin >> N >> a >> b >> c >> d;
    int array[N];
    for(int i = 0; i < N; i++)
        array[i] = i + 1;
    for(int i = b - 1; i >= a - 1; i--)
    {
        swap(array[i], array[a - 1]);
        a++;
    }
    for(int i = d - 1; i >= c - 1; i--)
    {
        swap(array[i], array[c - 1]);
        c++;
    }
    for(int i = 0; i < N; i++)
        cout << array[i] << " ";
    return 0;
}

